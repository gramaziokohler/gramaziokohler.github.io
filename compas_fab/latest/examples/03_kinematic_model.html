<!DOCTYPE html>
<html lang="en">
    <head>
        <title>compas_fab</title>

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    
        <meta name="author" content="" />
        <meta name="description" content="" />

        <link rel="shortcut icon" href="../_static/images/compas.ico" type="image/x-icon">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous" />

        <link rel="stylesheet" type="text/css" href="../_static/css/prism.css" />
        <link rel="stylesheet" type="text/css" href="../_static/css/compas.css" />
        <link rel="stylesheet" type="text/css" href="../_static/css/compas-reference.css" />

        
            <link rel="next" title="Simulation examples with V-REP" href="05_simulation_with_vrep.html" />
        
        
        
            <link rel="prev" title="Coordinate frames" href="02_coordinate_frames.html" />
        

        <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>

    </head>
    <body data-spy="scroll" data-target="#compas-localnav">

        <header class="navbar navbar-expand compas-navbar justify-content-between">
            <div class="navbar-header">
                <a class="navbar-brand" href="../index.html">
                    compas_fab 0.4.1
                </a>
            </div>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="https://compas-dev.github.io">
                        <img src="../_static/images/compas_icon_white.png" width="36px" height="36px" alt="compas" />
                    </a>
                </li>
            </ul>
        </header>
        
        <div class="container-fluid compas-container">
            <div class="row flex-xl-nowrap">

                <!-- main content -->

                <main class="col-12 col-md-9 col-xl-8 compas-content" role="main">

                    

                        

                        <div class="section" id="kinematic-model">
<h1>Kinematic model</h1>
<p>A kinematic model describes the motion of a robot in mathematical form without
considering the forces that affect motion and concerns itself with the geometric
relationship between elements.</p>
<p>In the kinematic model of a robot, the connection of different manipulator
joints is known as <strong>link</strong>, and the integration of two or more links is called
a <strong>joint</strong>. This kinematic model can be represented as a tree structure. The tree
describes the kinematic chain, i.e., the connection of robotic links with
joints, and the inter-dependendencies of these links. This tree structure plus
the underlying geometric information can be defined in Unified Robot
Description Format (URDF), which describes any robot (see for example
<a class="reference external" href="https://github.com/ros-industrial/universal_robot/blob/kinetic-devel/ur_description/urdf/ur5.urdf.xacro">UR5urdf</a>). If the robot is mounted on external axes, these links and joints
can be added as well.</p>
<div class="figure" id="id2">
<img alt="../_images/03_robot_links_and_joints.jpg" class="figure-img img-fluid" src="../_images/03_robot_links_and_joints.jpg" />
<p class="caption"><span class="caption-text">An industrial robot’s links and joints, and the according tree structure
describing the kinematic model.</span></p>
</div>
<p>In ROS, the <a class="reference external" href="https://docs.ros.org/kinetic/api/moveit_core/html/classmoveit_1_1core_1_1RobotModel.html">RobotModel</a> and <a class="reference external" href="https://docs.ros.org/kinetic/api/moveit_core/html/classmoveit_1_1core_1_1RobotState.html">RobotState</a> classes are the core classes that
give you access to a robot’s kinematics.</p>
<div class="section" id="links">
<h2>Links</h2>
<p>Robot links are solid mechanical elements. Depending on the kinematic model, movement
of certain input links allows the output links to move at various motions.</p>
</div>
<div class="section" id="joints">
<h2>Joints</h2>
<p>The joints are the elements in a robot which helps the links to travel in different
kind of movements. The three major types of joints are:</p>
<ul class="simple">
<li><p><strong>Revolute</strong>: A hinge joint that rotates along the axis and has a limited range specified by the upper and lower limits</p></li>
<li><p><strong>Prismatic</strong>: A sliding joint that slides along the axis, and has a limited range specified by the upper and lower limits</p></li>
<li><p><strong>Fixed</strong>: Not really a joint because it cannot move, all degrees of freedom are locked.</p></li>
</ul>
<p><strong>COMPAS</strong> Framework provides classes to describe robot models. The following snippet shows how to describe a UR5 robot:</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="kn">from</span> <span class="nn">compas.robots</span> <span class="kn">import</span> <span class="n">RobotModel</span>
<span class="kn">from</span> <span class="nn">compas.robots</span> <span class="kn">import</span> <span class="n">Joint</span>
<span class="kn">from</span> <span class="nn">compas.robots</span> <span class="kn">import</span> <span class="n">Link</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">RobotModel</span><span class="p">(</span><span class="s1">&#39;ur5&#39;</span><span class="p">,</span>
              <span class="n">joints</span><span class="o">=</span><span class="p">[</span>
                  <span class="n">Joint</span><span class="p">(</span><span class="s1">&#39;shoulder_pan_joint&#39;</span><span class="p">,</span> <span class="s1">&#39;revolute&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;base_link&#39;</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="s1">&#39;shoulder_link&#39;</span><span class="p">),</span>
                  <span class="n">Joint</span><span class="p">(</span><span class="s1">&#39;shoulder_lift_joint&#39;</span><span class="p">,</span> <span class="s1">&#39;revolute&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;shoulder_link&#39;</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="s1">&#39;upper_arm_link&#39;</span><span class="p">),</span>
                  <span class="n">Joint</span><span class="p">(</span><span class="s1">&#39;elbow_joint&#39;</span><span class="p">,</span> <span class="s1">&#39;revolute&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;upper_arm_link&#39;</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="s1">&#39;forearm_link&#39;</span><span class="p">),</span>
                  <span class="n">Joint</span><span class="p">(</span><span class="s1">&#39;wrist_1_joint&#39;</span><span class="p">,</span> <span class="s1">&#39;revolute&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;forearm_link&#39;</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="s1">&#39;wrist_1_link&#39;</span><span class="p">),</span>
                  <span class="n">Joint</span><span class="p">(</span><span class="s1">&#39;wrist_2_joint&#39;</span><span class="p">,</span> <span class="s1">&#39;revolute&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;wrist_1_link&#39;</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="s1">&#39;wrist_2_link&#39;</span><span class="p">),</span>
                  <span class="n">Joint</span><span class="p">(</span><span class="s1">&#39;wrist_3_joint&#39;</span><span class="p">,</span> <span class="s1">&#39;revolute&#39;</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="s1">&#39;wrist_2_link&#39;</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="s1">&#39;wrist_3_link&#39;</span><span class="p">),</span>
              <span class="p">],</span> <span class="n">links</span><span class="o">=</span><span class="p">[</span>
                  <span class="n">Link</span><span class="p">(</span><span class="s1">&#39;base_link&#39;</span><span class="p">),</span>
                  <span class="n">Link</span><span class="p">(</span><span class="s1">&#39;shoulder_link&#39;</span><span class="p">),</span>
                  <span class="n">Link</span><span class="p">(</span><span class="s1">&#39;upper_arm_link&#39;</span><span class="p">),</span>
                  <span class="n">Link</span><span class="p">(</span><span class="s1">&#39;forearm_link&#39;</span><span class="p">),</span>
                  <span class="n">Link</span><span class="p">(</span><span class="s1">&#39;wrist_1_link&#39;</span><span class="p">),</span>
                  <span class="n">Link</span><span class="p">(</span><span class="s1">&#39;wrist_2_link&#39;</span><span class="p">),</span>
                  <span class="n">Link</span><span class="p">(</span><span class="s1">&#39;wrist_3_link&#39;</span><span class="p">),</span>
              <span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>
</code></pre></div>
</div>
<div class="figure" id="id3">
<img alt="../_images/03_robot_model.jpg" class="figure-img img-fluid w-50" src="../_images/03_robot_model.jpg" />
<p class="caption"><span class="caption-text">Coordinate frames in each joint of the robot.</span></p>
</div>
</div>
<div class="section" id="forward-kinematics">
<h2>Forward Kinematics</h2>
<p>The Forward Kinematics function/algorithm takes the joint states, or configuration,
as the input, and calculates the pose of the end effector in the task space
as the output. This means the state of each joint in the articulated body
of a robot needs to be defined.</p>
<p>Joint states are described in <strong>compas_fab</strong> with the
<a class="reference internal" href="../reference/generated/compas_fab.robots.Configuration.html#compas_fab.robots.Configuration" title="compas_fab.robots.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">compas_fab.robots.Configuration</span></code></a> class.</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">Configuration</span><span class="o">.</span><span class="n">from_revolute_values</span><span class="p">(</span><span class="n">to_radians</span><span class="p">([</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]))</span>

<span class="k">with</span> <span class="n">VrepClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="n">client</span><span class="o">.</span><span class="n">set_robot_config</span><span class="p">(</span><span class="n">robot</span><span class="p">,</span> <span class="n">config</span><span class="p">)</span>

    <span class="n">frame</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_end_effector_pose</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;End effector pose: &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">frame</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
<div class="section" id="inverse-kinematics">
<h2>Inverse Kinematics</h2>
<p>Inverse Kinematics is the inverse function/algorithm of Forward Kinematics. The
Forward Kinematics function/algorithm takes a target end-effector pose in the
task space as the input, and calculates the joint states required for the
end effector to reach the target pose . The output of an inverse kinematics
are the joint states, i.e. the configuration of the robot.</p>
<p>The following code exemplifies how to calculate this:</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="n">goal_pose</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">((</span><span class="mf">8.110</span><span class="p">,</span> <span class="mf">7.020</span><span class="p">,</span> <span class="mf">1.810</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>

<span class="k">with</span> <span class="n">VrepClient</span><span class="p">()</span> <span class="k">as</span> <span class="n">client</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">set_robot_pose</span><span class="p">(</span><span class="n">rfl</span><span class="o">.</span><span class="n">Robot</span><span class="p">(</span><span class="s1">&#39;B&#39;</span><span class="p">),</span> <span class="n">goal_pose</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Found configuration: &#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">config</span><span class="p">))</span>
</code></pre></div>
</div>
</div>
<div class="section" id="visualizing-robot-models">
<h2>Visualizing robot models</h2>
<p><strong>COMPAS</strong> includes the concept of <cite>artists</cite>: classes that assist with the
visualization of datastructures and models, in a way that maintains the data
separated from the specific CAD interfaces, while providing a way to leverage
native performance of the CAD environment.</p>
<p>In the main library there are artists for various datastructures (meshes, networks,
etc), and <strong>compas_fab</strong> adds a <code class="docutils literal notranslate"><span class="pre">RobotArtist</span></code> to them. Robot artists allow
visualizing robot models easily and efficiently.</p>
<p>The following example illustrates how to load an entire robot model from an open source
repository and render it in Rhino:</p>
<div class="language-python notranslate"><div class="highlight"><pre><code><span></span><span class="kn">import</span> <span class="nn">compas</span>
<span class="n">compas</span><span class="o">.</span><span class="n">PRECISION</span> <span class="o">=</span> <span class="s1">&#39;12f&#39;</span>

<span class="kn">from</span> <span class="nn">compas.robots</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">compas_fab.rhino</span> <span class="kn">import</span> <span class="n">RobotArtist</span>

<span class="n">r</span> <span class="o">=</span> <span class="s1">&#39;ros-industrial/abb&#39;</span>
<span class="n">p</span> <span class="o">=</span> <span class="s1">&#39;abb_irb6600_support&#39;</span>
<span class="n">b</span> <span class="o">=</span> <span class="s1">&#39;kinetic-devel&#39;</span>

<span class="n">github</span> <span class="o">=</span> <span class="n">GithubPackageMeshLoader</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="n">urdf</span> <span class="o">=</span> <span class="n">github</span><span class="o">.</span><span class="n">load_urdf</span><span class="p">(</span><span class="s1">&#39;irb6640.urdf&#39;</span><span class="p">)</span>

<span class="n">robot</span> <span class="o">=</span> <span class="n">RobotModel</span><span class="o">.</span><span class="n">from_urdf_file</span><span class="p">(</span><span class="n">urdf</span><span class="p">)</span>
<span class="n">robot</span><span class="o">.</span><span class="n">load_geometry</span><span class="p">(</span><span class="n">github</span><span class="p">)</span>

<span class="n">RobotArtist</span><span class="p">(</span><span class="n">robot</span><span class="p">)</span><span class="o">.</span><span class="n">draw_visual</span><span class="p">()</span>
</code></pre></div>
</div>
<div class="card bg-light">
<div class="card-body">
<div class="card-title">Downloads</div><ul class="simple">
<li><p><a class="reference download internal" download="" href="../_downloads/deb6063bb1bad8c3b1348fb23ccd975b/robot-artist-rhino.py"><code class="xref download docutils literal notranslate"><span class="pre">Robot</span> <span class="pre">artist</span> <span class="pre">(Rhino)</span> <span class="pre">(.PY)</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../_downloads/70df8f33cc47b0df38788065b27ad3ba/robot-artist-blender.py"><code class="xref download docutils literal notranslate"><span class="pre">Robot</span> <span class="pre">artist</span> <span class="pre">(Blender)</span> <span class="pre">(.PY)</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../_downloads/e97cd29ed602a9f391c4abf1ea8fb50b/robot-artist-grasshopper.ghx"><code class="xref download docutils literal notranslate"><span class="pre">Robot</span> <span class="pre">artist</span> <span class="pre">(Grasshopper)</span> <span class="pre">(.GHX)</span></code></a></p></li>
</ul>
</div>
</div></div>
<div class="section" id="id1">
<h2>Links</h2>
<ul class="simple">
<li><p><a class="reference external" href="https://wiki.ros.org/urdf/Tutorials/Create%20your%20own%20urdf%20file">ROS Wiki: URDF Tutorial</a></p></li>
<li><p><a class="reference external" href="https://www.codemade.io/create-your-own-urdf-file/">Create your own URDF file</a></p></li>
</ul>
</div>
</div>

                        
                    

                </main>

                <!-- site navigation sidebar -->

                <div class="col-12 col-md-3 col-xl-2 compas-sidebar" role="navigation"> 
                    <div class="navbar-light">

                        <form id="" class="d-flex compas-searchbox" action="../search.html" method="get">
                            <input class="form-control" type="text" name="q" placeholder="Search docs" />
                            <input type="hidden" name="check_keywords" value="yes" />
                            <input type="hidden" name="area" value="default" />

                            <button class="navbar-toggler d-md-none compas-navigation-toggler" type="button" data-toggle="collapse" data-target="#compas-navigation" aria-controls="compas-navigation" aria-expanded="false" aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                        </form>

                        
                        

                            <div class="navbar-expand-md">
                                <div id="compas-navigation" class="collapse navbar-collapse compas-navigation">

                                <ul class="nav flex-column active">
<li class="nav-item"><a class="nav-link reference internal" href="../overview.html">Overview</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../getting_started.html">Getting started</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../backends.html">Working with backends</a></li>
<li class="nav-item active"><a class="nav-link reference internal" href="../examples.html">Examples</a><ul class="nav active">
<li class="nav-item"><a class="nav-link reference internal" href="01_frame_and_transformation.html">Frame and Transformation</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="02_coordinate_frames.html">Coordinate frames</a></li>
<li class="nav-item active"><a class="nav-link active current reference internal" href="#">Kinematic model</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="05_simulation_with_vrep.html">Simulation examples with V-REP</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="06_ros_examples.html">Using ROS</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="07_ros_create_urdf_ur5_with_measurement_tool.html">Creating a URDF with an UR5 robot and a custom end-effector</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="08_ros_create_moveit_package_from_custom_urdf.html">Creating a MoveIt! package from the custom created URDF</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="09_ros_create_urdf_ur10_on_tower.html">Creating a URDF of the UR10 on two linear axes</a></li>
</ul>
</li>
<li class="nav-item"><a class="nav-link reference internal" href="../reference.html">API Reference</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../contributing.html">Contributor’s Guide</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../authors.html">Authors</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../changelog.html">Changelog</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="../license.html">License</a></li>
</ul>


                                </div>
                            </div>

                        

                    </div>
                </div>

                <!-- table of contents of main content -->
                
                <div class="d-none d-xl-block col-xl-2 compas-toc" role="toc">

                    

                    <ul class="nav flex-column" id="compas-localnav">
<li class="nav-item"><a class="nav-link reference internal" href="#">Kinematic model</a><ul class="nav">
<li class="nav-item"><a class="nav-link reference internal" href="#links">Links</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#joints">Joints</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#forward-kinematics">Forward Kinematics</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#inverse-kinematics">Inverse Kinematics</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#visualizing-robot-models">Visualizing robot models</a></li>
<li class="nav-item"><a class="nav-link reference internal" href="#id1">Links</a></li>
</ul>
</li>
</ul>


                </div>

            </div>
        </div>

        <footer class="compas-footer">
            
                Last updated on Mar 20, 2019.
            

            
                Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
            
        </footer>

        

            <script type="text/javascript">
var DOCUMENTATION_OPTIONS = {
    URL_ROOT          : '',
    VERSION           : '0.4.1',
    COLLAPSE_INDEX    : false,
    FILE_SUFFIX       : '.html',
    HAS_SOURCE        : 'false',
    SOURCELINK_SUFFIX : '.txt'
};
            </script>

            <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
            
            <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.0.0/anchor.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js"></script>

            <script src="../_static/underscore.js"></script>
            <script src="../_static/doctools.js"></script>
            <script src="../_static/js/searchtools_.js"></script>
            <script src="../_static/js/prism.js"></script>

            <script>
$(document).ready(function() {

    // $(".language-default pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-bash pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-python pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-c pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-cpp pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-fortran pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-markdown pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    // $(".language-rest pre").each(function(i, element) {
    //     Prism.highlightElement(element);
    // });

    anchors.add();
});
            </script>

        
    </body>
</html>